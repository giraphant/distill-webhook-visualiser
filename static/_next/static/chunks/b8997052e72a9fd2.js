(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>i,"CardHeader",()=>n,"CardTitle",()=>r]);var t=e.i(43476),a=e.i(47163);function s(e){let{className:s,...n}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...n})}function n(e){let{className:s,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...n})}function r(e){let{className:s,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",s),...n})}function i(e){let{className:s,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",s),...n})}function d(e){let{className:s,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",s),...n})}},27341,e=>{"use strict";e.s(["Tabs",()=>k,"TabsContent",()=>_,"TabsList",()=>F,"TabsTrigger",()=>R],27341);var t=e.i(43476),a=e.i(71645),s=e.i(81140),n=e.i(30030),r=e.i(42727),i=e.i(96626),d=e.i(48425),l=e.i(86318),c=e.i(69340),o=e.i(10772),u="Tabs",[x,m]=(0,n.createContextScope)(u,[r.createRovingFocusGroupScope]),h=(0,r.createRovingFocusGroupScope)(),[g,p]=x(u),f=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:n,onValueChange:r,defaultValue:i,orientation:x="horizontal",dir:m,activationMode:h="automatic",...p}=e,f=(0,l.useDirection)(m),[v,j]=(0,c.useControllableState)({prop:n,onChange:r,defaultProp:null!=i?i:"",caller:u});return(0,t.jsx)(g,{scope:s,baseId:(0,o.useId)(),value:v,onValueChange:j,orientation:x,dir:f,activationMode:h,children:(0,t.jsx)(d.Primitive.div,{dir:f,"data-orientation":x,...p,ref:a})})});f.displayName=u;var v="TabsList",j=a.forwardRef((e,a)=>{let{__scopeTabs:s,loop:n=!0,...i}=e,l=p(v,s),c=h(s);return(0,t.jsx)(r.Root,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:(0,t.jsx)(d.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:a})})});j.displayName=v;var b="TabsTrigger",N=a.forwardRef((e,a)=>{let{__scopeTabs:n,value:i,disabled:l=!1,...c}=e,o=p(b,n),u=h(n),x=w(o.baseId,i),m=T(o.baseId,i),g=i===o.value;return(0,t.jsx)(r.Item,{asChild:!0,...u,focusable:!l,active:g,children:(0,t.jsx)(d.Primitive.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:x,...c,ref:a,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(i)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(i)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;g||l||!e||o.onValueChange(i)})})})});N.displayName=b;var C="TabsContent",y=a.forwardRef((e,s)=>{let{__scopeTabs:n,value:r,forceMount:l,children:c,...o}=e,u=p(C,n),x=w(u.baseId,r),m=T(u.baseId,r),h=r===u.value,g=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(i.Presence,{present:l||h,children:a=>{let{present:n}=a;return(0,t.jsx)(d.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":x,hidden:!n,id:m,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:g.current?"0s":void 0},children:n&&c})}})});function w(e,t){return"".concat(e,"-trigger-").concat(t)}function T(e,t){return"".concat(e,"-content-").concat(t)}y.displayName=C;var S=e.i(47163);function k(e){let{className:a,...s}=e;return(0,t.jsx)(f,{"data-slot":"tabs",className:(0,S.cn)("flex flex-col gap-2",a),...s})}function F(e){let{className:a,...s}=e;return(0,t.jsx)(j,{"data-slot":"tabs-list",className:(0,S.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...s})}function R(e){let{className:a,...s}=e;return(0,t.jsx)(N,{"data-slot":"tabs-trigger",className:(0,S.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...s})}function _(e){let{className:a,...s}=e;return(0,t.jsx)(y,{"data-slot":"tabs-content",className:(0,S.cn)("flex-1 outline-none",a),...s})}},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},35408,e=>{"use strict";e.s(["TrendingDown",()=>t],35408);let t=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},86030,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),a=e.i(71645),s=e.i(70065),n=e.i(27341),r=e.i(67881),i=e.i(16715),d=e.i(25652),l=e.i(35408),c=e.i(91645);function o(){let[e,o]=(0,a.useState)([]),[u,x]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[g,p]=(0,a.useState)(!1),[f,v]=(0,a.useState)("funding"),[j,b]=(0,a.useState)(null);async function N(){try{m||p(!0);let[e,t]=await Promise.all([fetch((0,c.getApiUrl)("/api/trading/funding-rates")),fetch((0,c.getApiUrl)("/api/trading/spot-prices"))]);if(e.ok){let t=await e.json();o(t)}if(t.ok){let e=await t.json();x(e)}b(new Date)}catch(e){console.error("Failed to fetch trading data:",e)}finally{h(!1),p(!1)}}(0,a.useEffect)(()=>{N();let e=setInterval(N,6e4);return()=>clearInterval(e)},[]);let C=e.reduce((e,t)=>(e[t.symbol]||(e[t.symbol]=[]),e[t.symbol].push(t),e),{}),y=u.reduce((e,t)=>(e[t.symbol]||(e[t.symbol]=[]),e[t.symbol].push(t),e),{}),w=["BTC","ETH","SOL"];return(0,t.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Trading Monitor"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Monitor funding rates and spot price spreads across exchanges"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[j&&(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Updated: ",j.toLocaleTimeString()]}),(0,t.jsxs)(r.Button,{onClick:N,disabled:g,variant:"outline",children:[(0,t.jsx)(i.RefreshCw,{className:"mr-2 h-4 w-4 ".concat(g?"animate-spin":"")}),"Refresh"]})]})]}),(0,t.jsxs)(n.Tabs,{value:f,onValueChange:v,children:[(0,t.jsxs)(n.TabsList,{className:"grid w-full max-w-md grid-cols-2",children:[(0,t.jsx)(n.TabsTrigger,{value:"funding",children:"Funding Rates"}),(0,t.jsx)(n.TabsTrigger,{value:"spot",children:"Spot Spreads"})]}),(0,t.jsxs)(n.TabsContent,{value:"funding",className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:w.map(e=>{let a=C[e]||[],n=a.length>0?a.reduce((e,t)=>e+t.annualized_rate,0)/a.length:0;return(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(s.CardTitle,{className:"text-lg",children:[e," Funding Rates"]}),(0,t.jsx)(s.CardDescription,{children:"Annualized rates across exchanges"})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold mb-4",children:[n.toFixed(2),"%"]}),(0,t.jsx)("div",{className:"space-y-2",children:a.sort((e,t)=>t.annualized_rate-e.annualized_rate).map((e,a)=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"font-medium capitalize",children:e.exchange}),(0,t.jsxs)("span",{className:e.annualized_rate>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[e.annualized_rate.toFixed(2),"%"]})]},a))})]})]},e)})}),w.map(e=>{let a=C[e]||[];return 0===a.length?null:(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)(s.CardTitle,{children:[e," Detailed Rates"]})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:a.sort((e,t)=>t.annualized_rate-e.annualized_rate).map((e,a)=>(0,t.jsxs)("div",{className:"border rounded-lg p-3 space-y-1",children:[(0,t.jsx)("div",{className:"font-semibold capitalize",children:e.exchange}),(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[e.annualized_rate.toFixed(2),"%"]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["8h: ",(100*e.rate).toFixed(4),"%"]}),e.mark_price&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Mark: $",e.mark_price.toLocaleString()]})]},a))})})]},e)})]}),(0,t.jsxs)(n.TabsContent,{value:"spot",className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:w.map(e=>{let a=(e=>{var t,a;let s=y[e]||[];if(s.length<2)return null;let n=s.map(e=>e.price),r=Math.max(...n),i=Math.min(...n);return{maxPrice:r,minPrice:i,spread:r-i,spreadPercent:(r-i)/i*100,maxExchange:null==(t=s.find(e=>e.price===r))?void 0:t.exchange,minExchange:null==(a=s.find(e=>e.price===i))?void 0:a.exchange}})(e);return a?(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(s.CardTitle,{className:"text-lg",children:[e," Price Spread"]}),(0,t.jsx)(s.CardDescription,{children:"Across CEX exchanges"})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[a.spreadPercent>0?(0,t.jsx)(d.TrendingUp,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(l.TrendingDown,{className:"h-5 w-5 text-red-500"}),(0,t.jsxs)("div",{className:"text-3xl font-bold",children:[a.spreadPercent.toFixed(3),"%"]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"High:"}),(0,t.jsxs)("span",{className:"font-medium",children:["$",a.maxPrice.toLocaleString()," (",a.maxExchange,")"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Low:"}),(0,t.jsxs)("span",{className:"font-medium",children:["$",a.minPrice.toLocaleString()," (",a.minExchange,")"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Spread:"}),(0,t.jsxs)("span",{className:"font-medium",children:["$",a.spread.toFixed(2)]})]})]})]})]},e):null})}),w.map(e=>{let a=y[e]||[];return 0===a.length?null:(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)(s.CardTitle,{children:[e," Spot Prices"]})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:a.sort((e,t)=>t.price-e.price).map((e,a)=>(0,t.jsxs)("div",{className:"border rounded-lg p-3 space-y-1",children:[(0,t.jsx)("div",{className:"font-semibold capitalize",children:e.exchange}),(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["$",e.price.toLocaleString(void 0,{maximumFractionDigits:2})]}),e.volume_24h&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Vol: $",(e.volume_24h/1e6).toFixed(2),"M"]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]},a))})})]},e)})]})]}),m&&(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.RefreshCw,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading trading data..."})]})})]})}}]);